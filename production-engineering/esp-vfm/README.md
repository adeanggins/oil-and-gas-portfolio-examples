# Virtual Flow Metering (VFM) for ESP using XGBoost

## 1. Problem Statement
In oil and gas production, measuring the real-time liquid flow rate from an Electrical Submersible Pump (ESP) is critical for reservoir management and production optimization. 

However, physical Multiphase Flow Meters (MPFMs) are:
* Extremely expensive (CAPEX).
* Prone to calibration drift and mechanical failure (OPEX).
* Often not installed on every single well in a field.

Operators often rely on infrequent well tests (separator tests), leaving blind spots in daily production data.

## 2. The Solution: Virtual Flow Metering (VFM)
We can create a "Virtual" sensor using a Machine Learning regression model. By utilizing high-frequency sensor data that is already available from the ESP controller (SCADA), we can infer the liquid rate.

**The Model:**
* **Inputs (Features):**
    * `pump_frequency_hz`: The operating speed of the pump.
    * `intake_pressure_psi`: Pressure at the bottom of the pump.
    * `discharge_pressure_psi`: Pressure at the outlet of the pump.
* **Output (Target):**
    * `liquid_rate_bpd`: The daily liquid production (Barrels Per Day).

**Algorithm:**
This project uses **XGBoost (Extreme Gradient Boosting)**, a powerful gradient boosting framework that is highly effective for tabular data and non-linear physical relationships.

## 3. Fundamental Physics (Domain Knowledge)
Why does this work? The model implicitly learns the **ESP Pump Performance Curve**.

According to pump affinity laws and hydraulic principles, the Differential Pressure (Head) generated by a pump is a function of the Flow Rate ($Q$) and the Pump Speed ($N$).
$$Head \propto f(Q, N)$$

Therefore, the inverse is also true: if we know the Head (Discharge - Intake) and the Speed (Frequency), we can determine the Flow Rate.

## 4. Repository Structure
* `esp_vfm_data.csv`: Contains the dataset .
* `01_Data_Generator.py`: Script to generate synthetic dataset .
* `02_VFM_Xgboost.ipynb`: Contains the Jupyter analysis .
* `requirements.txt`: Library dependencies.

## 5. Getting Started
1. Install dependencies:
   ```bash
   pip install -r requirements.txt
